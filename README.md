# cloud_devops_camp

## 1. Ansible playbook
Необходимо написать Ansible playbook, который выполняет на хосте следующие действия:

- создает нового пользователя cloudru с паролем cloudpass 
- разрешает на хосте авторизацию через ssh по ключу
- запрещает логин по ssh от пользователя root 
- копирует предоставленный публичный ключ для пользователя cloudpass

### Готовое задание [Ansible playbook](playbook/playbook.yml)


## 2. Web приложение на Python
### Приложение
Требуется написать простое веб-приложение на Python, которое слушает входящие соединения на порту 8000 и предоставляет HTTP API, в котором реализовано 3 метода:
- GET /hostname - при запросе на этот метод приложение отдает имя хоста, на котором запущено приложение
- GET /author - возвращает значение переменной окружения $AUTHOR, в которой задано имя или никнейм человека, выполняющего это задание
- GET /id - возвращает значение переменной окружения $UUID, содержащее любую произвольную строку-идентификатор в формате uuid

### Готовое задание [Web приложение](app/cloud_webapp.py)

## Dockerfile
Необходимо написать Dockerfile для полученного приложения в соответствии с принятыми в сообществе best-practice.

### Готовое задание [Dockerfile](app/Dockerfile)

## Kubernetes manifest
Далее необходимо написать манифест для запуска приложения в Kubernetes в отдельном неймспейсе в виде Deployment с 3 репликами и сервиса с типом ClusterIP. Реализовать readiness- и liveness- пробы. В переменную UUID должен подставляться уникальный идентификатор пода в кластере, в котором запущено приложение.

### Готовое задание [k8s manifest](manifest/emp.ty)

## Helm chart
Написать Helm чарт, в котором через переменные в файле values.yaml можно задать:
- имя образа, запускаемого в поде 
- количество реплик приложения
- значение, подставляемое в переменную AUTHOR
    
### Готовое задание [Helm chart](helm/emp.ty)